# ===============================
# DATABASE CONFIGURATION
# ===============================
spring.datasource.url=${SPRING_DATASOURCE_URL:jdbc:mysql://localhost:3306/sparkpayweb_db?useSSL=false&allowPublicKeyRetrieval=true&serverTimezone=UTC}
spring.datasource.username=${SPRING_DATASOURCE_USERNAME:root}
spring.datasource.password=${SPRING_DATASOURCE_PASSWORD:passpass}
spring.datasource.driver-class-name=com.mysql.cj.jdbc.Driver

# ===============================
# FLYWAY CONFIGURATION
# ===============================
spring.flyway.enabled=true
spring.flyway.locations=classpath:db/migration
spring.flyway.baseline-on-migrate=true
spring.flyway.validate-on-migrate=false

# ===============================
# LOGGING
# ===============================
logging.level.root=INFO
logging.level.org.springframework.jdbc.core=DEBUG
logging.file.name=logs/bulk_dispute_processor.log

# ===============================
# SPRING BATCH CONFIGURATION
# ===============================
spring.batch.jdbc.initialize-schema=never

# ===============================
# RABBITMQ CONFIGURATION
# ===============================
spring.rabbitmq.host=${SPRING_RABBITMQ_HOST:localhost}
spring.rabbitmq.port=${SPRING_RABBITMQ_PORT:5672}
spring.rabbitmq.username=${SPRING_RABBITMQ_USERNAME:admin}
spring.rabbitmq.password=${SPRING_RABBITMQ_PASSWORD:admin123}

# ===============================
# BULK DISPUTE CONFIGURATION
# ===============================
# File storage configuration
bulk.files.base-path=${BULK_FILES_BASE_PATH:C:/Users/USER/Downloads/sparkpay.bulk_dispute_processor/sparkpay.bulk_dispute_processor/uploads}

# Validation configuration
bulk.validation.max-preview-rows=${MAX_PREVIEW_ROWS:200}
bulk.validation.max-upload-size-mb=${MAX_UPLOAD_SIZE_MB:50}
bulk.validation.session-ttl-days=${SESSION_TTL_DAYS:7}

# Required columns for CSV validation
bulk.validation.required-columns=${REQUIRED_COLUMNS:dispute_id,action}
bulk.validation.expected-columns=${EXPECTED_COLUMNS:dispute_id,action,reason,notes}

# Server configuration
server.port=8445
spring.application.name=sparkpay.bulk_dispute_processor

# ===============================
# OPENAPI/SWAGGER CONFIGURATION
# ===============================
springdoc.api-docs.path=/api-docs
springdoc.swagger-ui.path=/swagger-ui.html
springdoc.swagger-ui.operationsSorter=method
springdoc.swagger-ui.tagsSorter=alpha
springdoc.swagger-ui.tryItOutEnabled=true

# ReDoc configuration for better OpenAPI documentation
springdoc.swagger-ui.config-url=/api-docs/swagger-config
springdoc.swagger-ui.url=/api-docs
springdoc.swagger-ui.validator-url=
